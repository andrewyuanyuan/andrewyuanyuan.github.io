{"title":"å›æº¯ç®—æ³•ï¼ˆBacktracking Algorithmï¼‰","date":"2021-03-30T16:00:00.000Z","date_formatted":{"ll":"Mar 31, 2021","L":"03/31/2021","MM-DD":"03-31"},"link":"2021/03/31/ç®—æ³•/å›æº¯ç®—æ³•ï¼ˆBacktracking Algorithmï¼‰","categories":["Algorithm"],"updated":"2021-04-24T11:21:25.441Z","content":"<h1 id=\"å›æº¯ç®—æ³•ï¼ˆbacktracking-algorithmï¼‰\">å›æº¯ç®—æ³•ï¼ˆBacktracking Algorithmï¼‰<a title=\"#å›æº¯ç®—æ³•ï¼ˆbacktracking-algorithmï¼‰\" href=\"#å›æº¯ç®—æ³•ï¼ˆbacktracking-algorithmï¼‰\"></a></h1>\n<p>æœ¬æ–‡ä¸»è¦æ¥æºï¼š</p>\n<ol>\n<li><a href=\"https://labuladong.gitbook.io/algo/\" target=\"_blank\">ğŸ“‹labuladongçš„ç®—æ³•å°æŠ„</a>-<a href=\"https://labuladong.gitbook.io/algo/suan-fa-si-wei-xi-lie/hui-su-suan-fa-dfs-suan-fa/hui-su-suan-fa-xiang-jie-xiu-ding-ban\" target=\"_blank\">å›æº¯ç®—æ³•æ¥æ›¿å¥—è·¯æ¡†æ¶</a></li>\n</ol>\n<p>å›æº¯ç®—æ³•å»ºç«‹åœ¨DFSåŸºç¡€ä¹‹ä¸Šï¼Œ<strong>ä¸åŒçš„æ˜¯åœ¨æœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œè¾¾åˆ°ç»“æŸæ¡ä»¶åï¼Œæ¢å¤çŠ¶æ€ï¼Œå›æº¯ä¸Šä¸€å±‚ï¼Œå†æ¬¡æœç´¢</strong>ã€‚å› æ­¤å›æº¯ç®—æ³•å’ŒDFSçš„åŒºåˆ«å°±æ˜¯æœ‰æ— çŠ¶æ€é‡å ã€‚</p>\n<ul>\n<li>\n<p><strong>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å›æº¯ç®—æ³•</strong></p>\n<p>å½“é—®é¢˜éœ€è¦â€œå›å¤´â€ï¼Œä»¥æ­¤æ¥æŸ¥æ‰¾å‡ºæ‰€æœ‰çš„è§£çš„æ—¶å€™ï¼Œä½¿ç”¨å›æº¯ç®—æ³•ã€‚å³æ»¡è¶³ç»“æŸæ¡ä»¶æˆ–å‘ç°ä¸æ˜¯æ­£ç¡®è·¯å¾„çš„æ—¶å€™ï¼ˆèµ°ä¸é€šï¼‰ï¼Œè¦æ’¤é”€é€‰æ‹©ï¼Œå›é€€åˆ°ä¸Šä¸€ä¸ªçŠ¶æ€ï¼Œç»§ç»­å°è¯•ï¼Œç›´åˆ°æ‰¾åˆ°æ‰€æœ‰è§£ä¸ºæ­¢ã€‚</p>\n</li>\n<li>\n<p><strong>å›æº¯é—®é¢˜çš„ç±»å‹</strong></p>\n<div class=\"Ï†bt\"><div class=\"Ï†bv\"><table><thead>\n<tr>\n<th style=\"text-align:center\">ç±»å‹</th>\n<th style=\"text-align:center\">é¢˜ç›®</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">å­é›†ã€ç»„åˆ</td>\n<td style=\"text-align:center\"><a href=\"https://leetcode-cn.com/problems/subsets/\" target=\"_blank\">å­é›†</a>ã€<a href=\"https://leetcode-cn.com/problems/subsets-ii/\" target=\"_blank\">å­é›† II</a>ã€<a href=\"https://leetcode-cn.com/problems/combinations/\" target=\"_blank\">ç»„åˆ</a>ã€<a href=\"https://leetcode-cn.com/problems/combination-sum/\" target=\"_blank\">ç»„åˆæ€»å’Œ</a>ã€<a href=\"https://leetcode-cn.com/problems/combination-sum-ii/\" target=\"_blank\">ç»„åˆæ€»å’Œ II</a></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">å…¨æ’åˆ—</td>\n<td style=\"text-align:center\"><a href=\"https://leetcode-cn.com/problems/permutations/\" target=\"_blank\">å…¨æ’åˆ—</a>ã€<a href=\"https://leetcode-cn.com/problems/permutations-ii/\" target=\"_blank\">å…¨æ’åˆ— II</a>ã€<a href=\"https://leetcode-cn.com/problems/zi-fu-chuan-de-pai-lie-lcof/\" target=\"_blank\">å­—ç¬¦ä¸²çš„å…¨æ’åˆ—</a>ã€<a href=\"https://leetcode-cn.com/problems/letter-case-permutation/\" target=\"_blank\">å­—æ¯å¤§å°å†™å…¨æ’åˆ—</a></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>æœç´¢</strong></td>\n<td style=\"text-align:center\"><a href=\"https://leetcode-cn.com/problems/sudoku-solver/\" target=\"_blank\">è§£æ•°ç‹¬</a>ã€<a href=\"https://leetcode-cn.com/problems/word-search/\" target=\"_blank\">å•è¯æœç´¢</a>ã€<a href=\"https://leetcode-cn.com/problems/eight-queens-lcci/\" target=\"_blank\">Nçš‡å</a>ã€<a href=\"https://leetcode-cn.com/problems/palindrome-partitioning/\" target=\"_blank\">åˆ†å‰²å›æ–‡ä¸²</a>ã€<a href=\"https://leetcode-cn.com/problems/binary-watch/\" target=\"_blank\">äºŒè¿›åˆ¶æ‰‹è¡¨</a></td>\n</tr>\n</tbody>\n</table></div></div><p>å­é›†å’Œç»„åˆæ˜¯é¡ºåºæ— å…³çš„ï¼Œè€Œæ’åˆ—å’Œå…ƒç´ é¡ºåºæœ‰å…³ã€‚e.g. [1,2]å’Œ[2,1]æ˜¯åŒä¸€ä¸ªç»„åˆï¼ˆå­é›†ï¼‰ï¼Œä½†[1,2]å’Œ[2,1]æ˜¯ä¸¤ç§ä¸ä¸€æ ·çš„æ’åˆ—ã€‚</p>\n</li>\n<li>\n<p><strong>éœ€è¦æ€è€ƒçš„ä¸‰ä¸ªé—®é¢˜</strong></p>\n<ol>\n<li>è·¯å¾„ï¼šä¹Ÿå°±æ˜¯å·²ç»åšå‡ºçš„é€‰æ‹©</li>\n<li>é€‰æ‹©åˆ—è¡¨ï¼šä¹Ÿå°±æ˜¯ä½ å½“å‰å¯ä»¥åšçš„é€‰æ‹©</li>\n<li>ç»“æŸæ¡ä»¶ï¼šä¹Ÿå°±æ˜¯åˆ°è¾¾å†³ç­–æ ‘åº•å±‚ï¼Œæ— æ³•å†åšé€‰æ‹©çš„æ¡ä»¶</li>\n</ol>\n</li>\n<li>\n<p><strong>å›æº¯ç®—æ³•çš„æ¡†æ¶</strong></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">result = []</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">backtrack</span>(<span class=\"params\">è·¯å¾„, é€‰æ‹©åˆ—è¡¨</span>)ï¼š</span></span><br><span class=\"line\"><span class=\"function\">\t<span class=\"title\">if</span> æ»¡è¶³ç»“æŸæ¡ä»¶:</span></span><br><span class=\"line\">        result.add(è·¯å¾„)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> é€‰æ‹© <span class=\"keyword\">in</span> é€‰æ‹©åˆ—è¡¨:</span><br><span class=\"line\">\t\t<span class=\"comment\"># åšé€‰æ‹©</span></span><br><span class=\"line\">        å°†è¯¥é€‰æ‹©ä»é€‰æ‹©åˆ—è¡¨ç§»é™¤</span><br><span class=\"line\">      \tè·¯å¾„.add(é€‰æ‹©)</span><br><span class=\"line\">        backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨)</span><br><span class=\"line\">        <span class=\"comment\">#æ’¤é”€é€‰æ‹©</span></span><br><span class=\"line\">        è·¯å¾„.remove(é€‰æ‹©)</span><br><span class=\"line\">        å°†è¯¥é€‰æ‹©å†åŠ å…¥é€‰æ‹©åˆ—è¡¨</span><br></pre></td></tr></table></figure>\n<p><strong>æ ¸å¿ƒæ˜¯<code>for</code>å¾ªç¯ä¸­çš„é€’å½’ï¼Œåœ¨é€’å½’è°ƒç”¨ä¹‹å‰ã€åšé€‰æ‹©ã€‘ï¼Œåœ¨é€’å½’è°ƒç”¨ä¹‹åã€æ’¤é”€é€‰æ‹©ã€‘ã€‚</strong></p>\n</li>\n</ul>\n<p>e.g.<a href=\"https://leetcode-cn.com/problems/permutations/\" target=\"_blank\">å…¨æ’åˆ—</a></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Solution</span></span>&#123;</span><br><span class=\"line\">    List&lt;List&lt;Integer&gt;&gt; res = <span class=\"keyword\">new</span> LinkedList&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class=\"keyword\">int</span>[] nums)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//è®°å½•è·¯å¾„</span></span><br><span class=\"line\">        LinkedList&lt;Integer&gt; track = <span class=\"keyword\">new</span> LinkedList&lt;&gt;();</span><br><span class=\"line\">        backtrack(nums, track);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">//è·¯å¾„ï¼šè®°å½•åœ¨trackä¸­</span></span><br><span class=\"line\">    <span class=\"comment\">//é€‰æ‹©åˆ—è¡¨ï¼šnumsä¸­ä¸å­˜åœ¨äºtrackçš„é‚£äº›å…ƒç´ </span></span><br><span class=\"line\">    <span class=\"comment\">//ç»“æŸæ¡ä»¶ï¼šnumsä¸­çš„å…ƒç´ å…¨éƒ½åœ¨trackä¸­å‡ºç°</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">backtrack</span><span class=\"params\">(<span class=\"keyword\">int</span>[] nums, LinkedList&lt;Integer&gt; track)</span></span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//è§¦å‘ç»“æŸæ¡ä»¶</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(track.size()==nums.length)&#123;</span><br><span class=\"line\">            res.add(<span class=\"keyword\">new</span> LinkedList(track));</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">int</span> i=<span class=\"number\">0</span>; i&lt;nums.length; i++)&#123;</span><br><span class=\"line\">            <span class=\"comment\">//æ’é™¤ä¸åˆæ³•çš„é€‰æ‹©</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(track.contains(nums[i])) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            <span class=\"comment\">//åšé€‰æ‹©</span></span><br><span class=\"line\">            track.add(nums[i]);</span><br><span class=\"line\">            <span class=\"comment\">//è¿›å…¥ä¸‹ä¸€å±‚å†³ç­–æ ‘</span></span><br><span class=\"line\">            backtrack(nums, track);</span><br><span class=\"line\">            <span class=\"comment\">//å–æ¶ˆé€‰æ‹©</span></span><br><span class=\"line\">            track.removeLast();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>e.g. <a href=\"https://leetcode-cn.com/problems/subsets/\" target=\"_blank\">å­é›†</a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> subsets = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">nums</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> res = [];</span><br><span class=\"line\">    <span class=\"comment\">//è®°å½•èµ°è¿‡çš„è·¯ç¨‹</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> track = [];</span><br><span class=\"line\">    <span class=\"keyword\">var</span> backtrack = <span class=\"function\">(<span class=\"params\">nums, start, track</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        res.push(track.slice());</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i=start; i&lt;nums.length; i++)&#123;</span><br><span class=\"line\">            track.push(nums[i]);</span><br><span class=\"line\">            backtrack(nums, i+<span class=\"number\">1</span>, track);</span><br><span class=\"line\">            track.pop();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    backtrack(nums, <span class=\"number\">0</span>, track);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><strong>è¾“å…¥[1,2,3]ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯[[1],[1,2],[1,2,3],[1,3],[2],[2,3],[3]]</strong></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/andrewyuanyuan/blog-image/img/006SqI8Pgy1gp3joaovnxj30s40iqwgw.jpg\" alt=\"pic1\" class=\"Ï†bs\"></p>\n<h3 id=\"å…·ä½“è¿‡ç¨‹\">å…·ä½“è¿‡ç¨‹<a title=\"#å…·ä½“è¿‡ç¨‹\" href=\"#å…·ä½“è¿‡ç¨‹\"></a></h3>\n<p><img src=\"https://cdn.jsdelivr.net/gh/andrewyuanyuan/blog-image/img/IMG_2289(20210331-174230).PNG\" alt=\"pic2\" class=\"Ï†bs\"></p>\n","prev":{"title":"äºŒå‰æ ‘ï¼ˆBinary Treeï¼‰","link":"2021/04/01/æ•°æ®ç»“æ„/äºŒå‰æ ‘ï¼ˆBinary Treeï¼‰"},"next":{"title":"note","link":"2021/03/30/JavaScript/Note"},"plink":"http://example.com/2021/03/31/ç®—æ³•/å›æº¯ç®—æ³•ï¼ˆBacktracking Algorithmï¼‰/","toc":[{"id":"å›æº¯ç®—æ³•ï¼ˆbacktracking-algorithmï¼‰","title":"å›æº¯ç®—æ³•ï¼ˆBacktracking Algorithmï¼‰","index":"1","children":[{"id":"å…·ä½“è¿‡ç¨‹","title":"å…·ä½“è¿‡ç¨‹","index":"1.1"}]}]}